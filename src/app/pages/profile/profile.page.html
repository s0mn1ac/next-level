<app-header section="profile"></app-header>

<ion-content *transloco="let t">

    <ion-list>
        
        <div class="avatar-image-container">

            <ion-avatar>
                <img [src]="userStructure?.photoURL" />
                <input #fileInput type="file" class="input-file" (change)="selectFile($event)" />
                <ion-button class="custom-button" size="large" fill="clear" shape="round" (click)="fileInput.click()">
                    <ion-icon slot="icon-only" name="camera-reverse-outline"></ion-icon>
                </ion-button>
            </ion-avatar>

            <ion-item lines="none">
                <ion-label class="ion-text-center" text-wrap>
                    <h2> {{ userStructure?.displayName }} </h2>
                    <p> {{ userStructure?.email }} </p>
                </ion-label>
            </ion-item>

        </div>
        
        <ion-item routerLink="user" lines="full">
            <ion-icon slot="start" color="primary" name="person-outline"></ion-icon>
            <ion-label> {{ t('profile.changeName.title') }} </ion-label>
        </ion-item>

        <ion-item routerLink="email" lines="full">
            <ion-icon slot="start" color="primary" name="mail-outline"></ion-icon>
            <ion-label> {{ t('profile.changeEmail.title') }} </ion-label>
        </ion-item>

        <ion-item routerLink="password" lines="full">
            <ion-icon slot="start" color="primary" name="key-outline"></ion-icon>
            <ion-label> {{ t('profile.changePassword.title') }} </ion-label>
        </ion-item>

        <ion-item lines="full" (click)="onClickShowNextLevelModal(logOutModalOptions)">
            <ion-icon slot="start" color="danger" name="log-out-outline"></ion-icon>
            <ion-label color="danger"> {{ t('profile.logOut.title') }} </ion-label>
        </ion-item>

        <ion-item lines="full" (click)="onClickShowNextLevelModal(deleteAccountModalOptions)">
            <ion-icon slot="start" color="danger" name="trash-outline"></ion-icon>
            <ion-label color="danger"> {{ t('profile.deleteAccount.title') }} </ion-label>
        </ion-item>

    </ion-list>

    <app-next-level-modal #nextLevelModal></app-next-level-modal>

</ion-content>
